{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\"use strict\";\n\nimport throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('.feedback-form input');\nconst textArea = document.querySelector('.feedback-form textarea');\n\nlet formData = {};\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onInput, 250));\n\nfunction initializeForm() {\n  formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  input.value = formData.email || '';\n  textArea.value = formData.message || '';\n}\n\nfunction saveFormData() {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onInput(event) {\n  formData[event.target.name] = event.target.value;\n  saveFormData();\n};\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  if (!formData.message || !formData.email) return;\n\n  console.log(formData)\n  \n  event.target.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  formData = {};\n};\n\ninitializeForm();\n"],"names":["STORAGE_KEY","form","input","textArea","formData","onFormSubmit","throttle","onInput","initializeForm","saveFormData","event"],"mappings":"oFAIA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAW,SAAS,cAAc,yBAAyB,EAEjE,IAAIC,EAAW,CAAA,EAEfH,EAAK,iBAAiB,SAAUI,CAAY,EAC5CJ,EAAK,iBAAiB,QAASK,EAASC,EAAS,GAAG,CAAC,EAErD,SAASC,GAAiB,CACxBJ,EAAW,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,GAAK,GAC5DE,EAAM,MAAQE,EAAS,OAAS,GAChCD,EAAS,MAAQC,EAAS,SAAW,EACvC,CAEA,SAASK,GAAe,CACtB,aAAa,QAAQT,EAAa,KAAK,UAAUI,CAAQ,CAAC,CAC5D,CAEA,SAASG,EAAQG,EAAO,CACtBN,EAASM,EAAM,OAAO,MAAQA,EAAM,OAAO,MAC3CD,GACF,CAEA,SAASJ,EAAaK,EAAO,CAC3BA,EAAM,eAAc,EAEhB,GAACN,EAAS,SAAW,CAACA,EAAS,SAEnC,QAAQ,IAAIA,CAAQ,EAEpBM,EAAM,OAAO,QACb,aAAa,WAAWV,CAAW,EACnCI,EAAW,CAAA,EACb,CAEAI,EAAgB"}