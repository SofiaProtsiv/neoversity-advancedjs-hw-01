{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\"use strict\";\n\nimport throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('.feedback-form input');\nconst textArea = document.querySelector('.feedback-form textarea');\n\nlet formData = {};\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onInput, 250));\n\nfunction initializeForm() {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  formData = savedData;\n  input.value = savedData.email || '';\n  textArea.value = savedData.message || '';\n}\n\nfunction saveFormData() {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onInput(event){\n  if (event.target.name === 'email' || event.target.name === 'message') {\n    formData[event.target.name] = event.target.value;\n    saveFormData();\n  }\n};\n\nfunction onFormSubmit(event){\n  event.preventDefault();\n\n  if (!formData.message || !formData.email) return;\n\n    event.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    formData = {};\n};\n\ninitializeForm();\n"],"names":["STORAGE_KEY","form","input","textArea","formData","onFormSubmit","throttle","onInput","initializeForm","savedData","saveFormData","event"],"mappings":"oFAIA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAW,SAAS,cAAc,yBAAyB,EAEjE,IAAIC,EAAW,CAAA,EAEfH,EAAK,iBAAiB,SAAUI,CAAY,EAC5CJ,EAAK,iBAAiB,QAASK,EAASC,EAAS,GAAG,CAAC,EAErD,SAASC,GAAiB,CACxB,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQT,CAAW,CAAC,GAAK,GACnEI,EAAWK,EACXP,EAAM,MAAQO,EAAU,OAAS,GACjCN,EAAS,MAAQM,EAAU,SAAW,EACxC,CAEA,SAASC,GAAe,CACtB,aAAa,QAAQV,EAAa,KAAK,UAAUI,CAAQ,CAAC,CAC5D,CAEA,SAASG,EAAQI,EAAM,EACjBA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,aACzDP,EAASO,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3CD,IAEJ,CAEA,SAASL,EAAaM,EAAM,CAC1BA,EAAM,eAAc,EAEhB,GAACP,EAAS,SAAW,CAACA,EAAS,SAEjCO,EAAM,OAAO,QACb,aAAa,WAAWX,CAAW,EACnCI,EAAW,CAAA,EACf,CAEAI,EAAgB"}